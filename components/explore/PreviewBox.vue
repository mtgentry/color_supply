<template lang="pug">
  v-card#previewBox(v-if="preview === 0")
    v-card-text.pa-0
      ExplorePreviewClose(:background="background")
      svg(width='374' height='313' viewBox='0 0 374 313' fill='none' xmlns='http://www.w3.org/2000/svg' @click="shufflePalette")
        path(d='M374 313H0V0H374V313Z' :fill="background")
        path(d='M138.273 152H20V45.7912H138.273V152Z' fill='#1D1E20')
        path(d='M144.495 146.162H25.7163V35.5035H144.495V146.162Z' :fill="ok_background")
        path(d='M26.221 145.657H143.991V36.0055H26.221V145.657ZM145 146.664H25.2124V34.9997H145V146.664Z' fill='#1D1E20')
        path(d='M144.495 45.9844H25.7163V44.9777H144.495V45.9844Z' fill='#1D1E20')
        path(d='M33.4447 40.4739C33.4447 41.3335 32.7469 42.0293 31.8861 42.0293C31.0253 42.0293 30.3276 41.3335 30.3276 40.4739C30.3276 39.6153 31.0253 38.9185 31.8861 38.9185C32.7469 38.9185 33.4447 39.6153 33.4447 40.4739Z' fill='#1D1E20')
        path(d='M39.5621 40.4739C39.5621 41.3335 38.8643 42.0293 38.0037 42.0293C37.1429 42.0293 36.4451 41.3335 36.4451 40.4739C36.4451 39.6153 37.1429 38.9185 38.0037 38.9185C38.8643 38.9185 39.5621 39.6153 39.5621 40.4739Z' fill='#1D1E20')
        path(d='M45.6798 40.4739C45.6798 41.3335 44.982 42.0293 44.1212 42.0293C43.2605 42.0293 42.5627 41.3335 42.5627 40.4739C42.5627 39.6153 43.2605 38.9185 44.1212 38.9185C44.982 38.9185 45.6798 39.6153 45.6798 40.4739Z' fill='#1D1E20')
        path(d='M108.931 99.9434H99.9712V91.0019H108.931V99.9434Z' :fill="ok_text")
        path(d='M117.889 108.883H108.93V99.9423H117.889V108.883Z' :fill="ok_text")
        path(d='M126.848 117.824H117.89V108.883H126.848V117.824Z' :fill="ok_text")
        path(d='M135.807 126.766H126.848V117.824H135.807V126.766Z' :fill="ok_text")
        path(d='M117.889 91.002H108.93V82.0605H117.889V91.002Z' :fill="ok_text")
        path(d='M126.848 82.0605H117.89V73.1191H126.848V82.0605Z' :fill="ok_text")
        path(d='M135.807 73.1191H126.848V64.1777H135.807V73.1191Z' :fill="ok_text")
        path(d='M99.9706 82.0605H91.0112V73.1191H99.9706V82.0605Z' :fill="ok_text")
        path(d='M99.9706 73.1191H91.0112V64.1777H99.9706V73.1191Z' :fill="ok_text")
        path(d='M99.9706 91.002H91.0112V82.0605H99.9706V91.002Z' :fill="ok_text")
        path(d='M99.9706 99.9434H91.0112V91.0019H99.9706V99.9434Z' :fill="ok_text")
        path(d='M99.9706 108.883H91.0112V99.9423H99.9706V108.883Z' :fill="ok_text")
        path(d='M99.9706 126.766H91.0112V117.824H99.9706V126.766Z' :fill="ok_text")
        path(d='M43.3637 91.002H34.4043V82.0605H43.3637V91.002Z' :fill="ok_text")
        path(d='M43.3637 99.9434H34.4043V91.0019H43.3637V99.9434Z' :fill="ok_text")
        path(d='M43.3637 108.883H34.4043V99.9423H43.3637V108.883Z' :fill="ok_text")
        path(d='M43.3637 117.824H34.4043V108.883H43.3637V117.824Z' :fill="ok_text")
        path(d='M79.201 91.002H70.2417V82.0605H79.201V91.002Z' :fill="ok_text")
        path(d='M43.3637 82.0605H34.4043V73.1191H43.3637V82.0605Z' :fill="ok_text")
        path(d='M79.201 82.0605H70.2417V73.1191H79.201V82.0605Z' :fill="ok_text")
        path(d='M79.201 99.9434H70.2417V91.0019H79.201V99.9434Z' :fill="ok_text")
        path(d='M79.201 108.883H70.2417V99.9423H79.201V108.883Z' :fill="ok_text")
        path(d='M79.201 117.824H70.2417V108.883H79.201V117.824Z' :fill="ok_text")
        path(d='M61.2824 126.766H52.323V117.824H61.2824V126.766Z' :fill="ok_text")
        path(d='M52.3235 126.766H43.3643V117.824H52.3235V126.766Z' :fill="ok_text")
        path(d='M70.2417 126.766H61.2825V117.824H70.2417V126.766Z' :fill="ok_text")
        path(d='M61.2824 73.1191H52.323V64.1777H61.2824V73.1191Z' :fill="ok_text")
        path(d='M52.3235 73.1191H43.3643V64.1777H52.3235V73.1191Z' :fill="ok_text")
        path(d='M70.2417 73.1191H61.2825V64.1777H70.2417V73.1191Z' :fill="ok_text")
        path(d='M100.475 99.4386H108.425V91.5039H100.475V99.4386ZM109.434 100.445H99.4658V90.4972H109.434V100.445Z' fill='#1D1E20')
        path(d='M109.434 108.38H117.385V100.445H109.434V108.38ZM118.393 109.387H108.425V99.4386H118.393V109.387Z' fill='#1D1E20')
        path(d='M118.393 117.321H126.344V109.387H118.393V117.321ZM127.352 118.328H117.384V108.38H127.352V118.328Z' fill='#1D1E20')
        path(d='M127.353 126.263H135.304V118.328H127.353V126.263ZM136.312 127.27H126.344V117.321H136.312V127.27Z' fill='#1D1E20')
        path(d='M109.434 90.4972H117.385V82.5625H109.434V90.4972ZM118.393 91.5039H108.425V81.5557H118.393V91.5039Z' fill='#1D1E20')
        path(d='M118.393 81.5558H126.344V73.6211H118.393V81.5558ZM127.352 82.5625H117.384V72.6143H127.352V82.5625Z' fill='#1D1E20')
        path(d='M127.353 72.6144H135.304V64.6796H127.353V72.6144ZM136.312 73.6211H126.344V63.6729H136.312V73.6211Z' fill='#1D1E20')
        path(d='M91.5151 81.5558H99.4657V73.6211H91.5151V81.5558ZM100.474 82.5625H90.5063V72.6143H100.474V82.5625Z' fill='#1D1E20')
        path(d='M91.5151 72.6144H99.4657V64.6796H91.5151V72.6144ZM100.474 73.6211H90.5063V63.6729H100.474V73.6211Z' fill='#1D1E20')
        path(d='M91.5151 90.4972H99.4657V82.5625H91.5151V90.4972ZM100.474 91.5039H90.5063V81.5557H100.474V91.5039Z' fill='#1D1E20')
        path(d='M91.5151 99.4386H99.4657V91.5039H91.5151V99.4386ZM100.474 100.445H90.5063V90.4972H100.474V100.445Z' fill='#1D1E20')
        path(d='M91.5151 108.38H99.4657V100.445H91.5151V108.38ZM100.474 109.387H90.5063V99.4386H100.474V109.387Z' fill='#1D1E20')
        path(d='M91.5151 126.263H99.4657V118.328H91.5151V126.263ZM100.474 127.27H90.5063V117.321H100.474V127.27Z' fill='#1D1E20')
        path(d='M99.9706 117.824H91.0112V108.883H99.9706V117.824Z' :fill="ok_text")
        path(d='M91.5151 117.321H99.4657V109.387H91.5151V117.321ZM100.474 118.328H90.5063V108.38H100.474V118.328Z' fill='#1D1E20')
        path(d='M34.9088 90.4972H42.8594V82.5625H34.9088V90.4972ZM43.868 91.5039H33.9001V81.5557H43.868V91.5039Z' fill='#1D1E20')
        path(d='M34.9088 99.4386H42.8594V91.5039H34.9088V99.4386ZM43.868 100.445H33.9001V90.4972H43.868V100.445Z' fill='#1D1E20')
        path(d='M34.9088 108.38H42.8594V100.445H34.9088V108.38ZM43.868 109.387H33.9001V99.4386H43.868V109.387Z' fill='#1D1E20')
        path(d='M34.9088 117.321H42.8594V109.387H34.9088V117.321ZM43.868 118.328H33.9001V108.38H43.868V118.328Z' fill='#1D1E20')
        path(d='M70.7462 90.4972H78.6969V82.5625H70.7462V90.4972ZM79.7055 91.5039H69.7375V81.5557H79.7055V91.5039Z' fill='#1D1E20')
        path(d='M34.9088 81.5558H42.8594V73.6211H34.9088V81.5558ZM43.868 82.5625H33.9001V72.6143H43.868V82.5625Z' fill='#1D1E20')
        path(d='M70.7462 81.5558H78.6969V73.6211H70.7462V81.5558ZM79.7055 82.5625H69.7375V72.6143H79.7055V82.5625Z' fill='#1D1E20')
        path(d='M70.7462 99.4386H78.6969V91.5039H70.7462V99.4386ZM79.7055 100.445H69.7375V90.4972H79.7055V100.445Z' fill='#1D1E20')
        path(d='M70.7462 108.38H78.6969V100.445H70.7462V108.38ZM79.7055 109.387H69.7375V99.4386H79.7055V109.387Z' fill='#1D1E20')
        path(d='M70.7462 117.321H78.6969V109.387H70.7462V117.321ZM79.7055 118.328H69.7375V108.38H79.7055V118.328Z' fill='#1D1E20')
        path(d='M52.8275 126.263H60.7781V118.328H52.8275V126.263ZM61.7867 127.27H51.8188V117.321H61.7867V127.27Z' fill='#1D1E20')
        path(d='M43.868 126.263H51.8187V118.328H43.868V126.263ZM52.8274 127.27H42.8594V117.321H52.8274V127.27Z' fill='#1D1E20')
        path(d='M61.7867 126.263H69.7373V118.328H61.7867V126.263ZM70.746 127.27H60.7781V117.321H70.746V127.27Z' fill='#1D1E20')
        path(d='M52.8275 72.6144H60.7781V64.6796H52.8275V72.6144ZM61.7867 73.6211H51.8188V63.6729H61.7867V73.6211Z' fill='#1D1E20')
        path(d='M43.868 72.6144H51.8187V64.6796H43.868V72.6144ZM52.8274 73.6211H42.8594V63.6729H52.8274V73.6211Z' fill='#1D1E20')
        path(d='M61.7867 72.6144H69.7373V64.6796H61.7867V72.6144ZM70.746 73.6211H60.7781V63.6729H70.746V73.6211Z' fill='#1D1E20')
        path(d='M131.809 233.317C127.82 218.61 114.38 207.791 98.4108 207.791C84.5814 207.791 72.649 215.903 67.1082 227.628C64.6491 226.831 62.0252 226.399 59.2998 226.399C45.3267 226.399 34 237.726 34 251.699C34 265.672 45.3267 277 59.2998 277H129.611C141.704 277 151.506 267.196 151.506 255.103C151.506 243.752 142.87 234.42 131.809 233.317Z' fill='#382B17')
        path(d='M137.574 222.229C133.585 207.522 120.144 196.703 104.175 196.703C90.346 196.703 78.4137 204.815 72.8729 216.541C70.4137 215.743 67.7898 215.311 65.0645 215.311C51.0913 215.311 39.7646 226.638 39.7646 240.611C39.7646 254.584 51.0913 265.912 65.0645 265.912H135.375C147.468 265.912 157.271 256.109 157.271 244.016C157.271 232.666 148.634 223.332 137.574 222.229Z' :fill="cloud")
        path(d='M65.0653 216.038C51.5161 216.038 40.4923 227.061 40.4923 240.611C40.4923 254.161 51.5161 265.185 65.0653 265.185H135.376C147.048 265.185 156.545 255.688 156.545 244.016C156.545 233.091 148.358 224.036 137.503 222.953L137.004 222.904L136.873 222.419C132.883 207.707 119.437 197.431 104.176 197.431C91.1356 197.431 79.1075 205.053 73.5315 216.852L73.2583 217.431L72.6498 217.233C70.2048 216.44 67.6527 216.038 65.0653 216.038ZM135.376 266.639H65.0653C50.7133 266.639 39.0374 254.963 39.0374 240.611C39.0374 226.26 50.7133 214.584 65.0653 214.584C67.5921 214.584 70.0879 214.946 72.4921 215.66C75.3216 209.939 79.6427 205.091 85.0216 201.614C90.7286 197.925 97.3511 195.976 104.176 195.976C119.927 195.976 133.823 206.471 138.144 221.56C143.506 222.215 148.449 224.77 152.108 228.79C155.907 232.961 158 238.37 158 244.016C158 256.491 147.851 266.639 135.376 266.639Z' fill='#382B17')
        path(d='M323.238 50.3582L294 101H352.476L323.238 50.3582Z' fill='#1D1E20')
        path(d='M328.264 47.4065L299.025 98.0488H357.501L328.264 47.4065Z' :fill="triangle")
        path(d='M299.524 97.7606H357.004L328.264 47.9816L299.524 97.7606ZM358 98.3359H298.527L328.264 46.831L358 98.3359Z' fill='#1D1E20')
        path(d='M313.322 82.8118C328.264 96.4452 342.842 82.8118 342.842 82.8118C327.413 68.8766 313.322 82.8118 313.322 82.8118Z' fill='#ffffff')
        path(d='M313.748 82.8082C319.797 88.2159 326.467 89.8471 333.58 87.6551C338.191 86.2344 341.519 83.5723 342.409 82.8099C336.166 77.2819 329.436 75.6139 322.405 77.8533C317.837 79.3074 314.601 82.0363 313.748 82.8082ZM327.617 89.1582C326.461 89.1582 325.317 89.0541 324.186 88.8458C320.297 88.129 316.577 86.1703 313.129 83.0237L312.905 82.8199L313.12 82.6066C313.156 82.5715 316.755 79.0546 322.209 77.312C325.42 76.2861 328.638 76.0634 331.773 76.6498C335.687 77.3822 339.475 79.3832 343.035 82.5977L343.267 82.8077L343.039 83.0215C343.001 83.056 339.282 86.4945 333.77 88.1986C331.703 88.8374 329.644 89.1582 327.617 89.1582Z' fill='#1D1E20')
        path(d='M333.136 82.7448C333.136 85.5361 330.873 87.7988 328.082 87.7988C325.291 87.7988 323.028 85.5361 323.028 82.7448C323.028 79.9535 325.291 77.6908 328.082 77.6908C330.873 77.6908 333.136 79.9535 333.136 82.7448Z' :fill="triangle")
        path(d='M328.082 77.9779C325.454 77.9779 323.316 80.1159 323.316 82.744C323.316 85.3726 325.454 87.5106 328.082 87.5106C330.71 87.5106 332.848 85.3726 332.848 82.744C332.848 80.1159 330.71 77.9779 328.082 77.9779ZM328.082 88.0859C325.136 88.0859 322.74 85.6895 322.74 82.744C322.74 79.799 325.136 77.4026 328.082 77.4026C331.027 77.4026 333.424 79.799 333.424 82.744C333.424 85.6895 331.027 88.0859 328.082 88.0859Z' fill='#1D1E20')
        path(d='M331.119 82.7444C331.119 84.4218 329.759 85.7812 328.082 85.7812C326.405 85.7812 325.045 84.4218 325.045 82.7444C325.045 81.0675 326.405 79.7075 328.082 79.7075C329.759 79.7075 331.119 81.0675 331.119 82.7444Z' fill='#1D1E20')
        path(d='M328.082 79.9946C326.566 79.9946 325.333 81.2276 325.333 82.7436C325.333 84.2595 326.566 85.4931 328.082 85.4931C329.598 85.4931 330.831 84.2595 330.831 82.7436C330.831 81.2276 329.598 79.9946 328.082 79.9946ZM328.082 86.0684C326.249 86.0684 324.757 84.5769 324.757 82.7436C324.757 80.9107 326.249 79.4193 328.082 79.4193C329.915 79.4193 331.406 80.9107 331.406 82.7436C331.406 84.5769 329.915 86.0684 328.082 86.0684Z' fill='#1D1E20')
        path(d='M313.892 51.7617C313.842 51.7617 313.792 51.7495 313.746 51.7227L308.951 48.9153C308.814 48.8345 308.768 48.6586 308.849 48.5216C308.929 48.3846 309.105 48.3383 309.242 48.4185L314.037 51.226C314.174 51.3062 314.22 51.4827 314.14 51.6197C314.087 51.711 313.99 51.7617 313.892 51.7617Z' fill='#1D1E20')
        path(d='M317.33 45.0176C317.254 45.0176 317.178 44.9875 317.122 44.9285L311.693 39.2368C311.583 39.122 311.587 38.9399 311.703 38.8302C311.817 38.7205 312 38.725 312.109 38.8397L317.538 44.5314C317.647 44.6461 317.643 44.8282 317.528 44.9379C317.472 44.9914 317.401 45.0176 317.33 45.0176Z' fill='#1D1E20')
        path(d='M323.238 41.0742C323.142 41.0742 323.049 41.0258 322.994 40.9378L317.443 31.9875C317.359 31.8528 317.4 31.6757 317.536 31.5916C317.67 31.508 317.847 31.5498 317.932 31.6846L323.483 40.6348C323.566 40.7696 323.525 40.9472 323.39 41.0308C323.343 41.0603 323.29 41.0742 323.238 41.0742Z' fill='#1D1E20')
        path(d='M328.264 39.7715C328.105 39.7715 327.976 39.6423 327.976 39.4836V25.5305C327.976 25.3718 328.105 25.2431 328.264 25.2431C328.423 25.2431 328.551 25.3718 328.551 25.5305V39.4836C328.551 39.6423 328.423 39.7715 328.264 39.7715Z' fill='#1D1E20')
        path(d='M333.222 41.1816C333.17 41.1816 333.118 41.1677 333.071 41.1382C332.936 41.0547 332.894 40.8776 332.978 40.7422L338.596 31.684C338.68 31.5492 338.858 31.5074 338.992 31.5909C339.127 31.675 339.169 31.8521 339.085 31.9869L333.467 41.0458C333.412 41.1332 333.318 41.1816 333.222 41.1816Z' fill='#1D1E20')
        path(d='M339.01 45.2148C338.939 45.2148 338.868 45.1887 338.812 45.1358C338.697 45.026 338.692 44.8439 338.802 44.7292L344.418 38.8409C344.528 38.7262 344.709 38.7217 344.825 38.8314C344.939 38.9412 344.944 39.1233 344.834 39.238L339.219 45.1257C339.162 45.1853 339.086 45.2148 339.01 45.2148Z' fill='#1D1E20')
        path(d='M342.311 51.9512C342.213 51.9512 342.116 51.8999 342.063 51.8086C341.983 51.6716 342.029 51.4956 342.166 51.4149L347.286 48.4175C347.423 48.3373 347.599 48.3836 347.679 48.5206C347.76 48.6576 347.714 48.8335 347.576 48.9143L342.457 51.9116C342.411 51.9384 342.361 51.9512 342.311 51.9512Z' fill='#1D1E20')
        path(d='M325.864 290H218V144.227H325.864V290Z' fill='#1D1E20')
        path(d='M223.674 284.205H331.08V135.286H223.674V284.205ZM332 285.125H222.754V134.367H332V285.125Z' fill='#1D1E20')
        path(d='M312.53 190.755V272.268H240.443V190.755C240.443 170.849 256.58 154.712 276.486 154.712C286.439 154.712 295.45 158.746 301.972 165.269C308.496 171.792 312.53 180.802 312.53 190.755Z' :fill="door_light")
        path(fill-rule='evenodd' clip-rule='evenodd' d='M223.213 284.664H331.54V134.826H223.213V284.664ZM312.15 273.858V192.347C312.15 182.394 308.115 173.383 301.592 166.86C295.069 160.337 286.059 156.303 276.106 156.303C256.2 156.303 240.063 172.441 240.063 192.347V273.858H312.15Z' :fill="door_background")
        path(d='M310.813 262.683V273.857H238.727V262.683H310.813Z' :fill="stairs")
        path(d='M310.814 251.508V262.684H256.747V251.508H310.814Z' :fill="stairs")
        path(d='M310.814 240.331V251.508H268.254V240.331H310.814Z' :fill="stairs")
        path(d='M310.813 229.154V240.33H278.068V229.154H310.813Z' :fill="stairs")
        path(d='M310.813 217.978V229.154H289.563V217.978H310.813Z' :fill="stairs")
        path(d='M310.814 206.803V217.979H299.574V206.803H310.814Z' :fill="stairs")
        path(d='M331.54 143.061H223.213V142.141H331.54V143.061Z' fill='#1D1E20')
        path(d='M230.262 138.758C230.262 139.543 229.625 140.18 228.84 140.18C228.055 140.18 227.418 139.543 227.418 138.758C227.418 137.973 228.055 137.337 228.84 137.337C229.625 137.337 230.262 137.973 230.262 138.758Z' fill='#1D1E20')
        path(d='M235.841 138.758C235.841 139.543 235.205 140.18 234.419 140.18C233.635 140.18 232.998 139.543 232.998 138.758C232.998 137.973 233.635 137.337 234.419 137.337C235.205 137.337 235.841 137.973 235.841 138.758Z' fill='#1D1E20')
        path(d='M241.42 138.758C241.42 139.543 240.784 140.18 239.999 140.18C239.214 140.18 238.577 139.543 238.577 138.758C238.577 137.973 239.214 137.337 239.999 137.337C240.784 137.337 241.42 137.973 241.42 138.758Z' fill='#1D1E20')
        path(d='M239.187 273.398H310.353V263.143H239.187V273.398ZM311.273 274.318H238.267V262.223H311.273V274.318Z' fill='#1D1E20')
        path(d='M257.206 262.223H310.353V251.968H257.206V262.223ZM311.273 263.143H256.286V251.048H311.273V263.143Z' fill='#1D1E20')
        path(d='M254.725 246.686C254.725 255.521 247.562 262.684 238.727 262.684C229.891 262.684 222.728 255.521 222.728 246.686C222.728 237.849 229.891 230.687 238.727 230.687C247.562 230.687 254.725 237.849 254.725 246.686Z' :fill="door_circle")
        path(d='M238.727 231.146C230.159 231.146 223.189 238.117 223.189 246.685C223.189 255.252 230.159 262.223 238.727 262.223C247.294 262.223 254.265 255.252 254.265 246.685C254.265 238.117 247.294 231.146 238.727 231.146ZM238.727 263.143C229.651 263.143 222.269 255.76 222.269 246.685C222.269 237.609 229.651 230.226 238.727 230.226C247.802 230.226 255.185 237.609 255.185 246.685C255.185 255.76 247.802 263.143 238.727 263.143Z' fill='#1D1E20')
        path(d='M268.715 251.047H310.353V240.789H268.715V251.047ZM311.273 251.967H267.795V239.869H311.273V251.967Z' fill='#1D1E20')
        path(d='M278.528 239.871H310.353V229.616H278.528V239.871ZM311.273 240.791H277.608V228.696H311.273V240.791Z' fill='#1D1E20')
        path(d='M290.024 228.695H310.353V218.439H290.024V228.695ZM311.273 229.615H289.104V217.519H311.273V229.615Z' fill='#1D1E20')
        path(d='M300.033 217.519H310.353V207.264H300.033V217.519ZM311.273 218.439H299.113V206.344H311.273V218.439Z' fill='#1D1E20')
        path(d='M240.122 273.398H311.288V192.346C311.288 182.841 307.587 173.906 300.866 167.185C294.146 160.464 285.211 156.763 275.705 156.763C256.084 156.763 240.122 172.726 240.122 192.346V273.398ZM312.208 274.318H239.202V192.346C239.202 187.419 240.167 182.638 242.07 178.138C243.909 173.791 246.541 169.887 249.894 166.534C253.246 163.182 257.149 160.551 261.496 158.712C265.997 156.809 270.777 155.843 275.705 155.843C280.633 155.843 285.414 156.809 289.914 158.712C294.261 160.551 298.165 163.182 301.516 166.535C304.869 169.887 307.501 173.791 309.34 178.138C311.243 182.638 312.208 187.418 312.208 192.346V274.318Z' fill='#1D1E20')
        path(d='M233.971 61.0263H198.689V56.2512H184V61.0263V65.27V91H233.971L241.296 68.3892H233.971V61.0263Z' fill='#1D1E20')
        path(d='M203.733 51.4772H189.044V60.4961H203.733V51.4772Z' :fill="folder")
        path(d='M189.525 60.0197H203.252V51.9538H189.525V60.0197ZM204.214 60.9727H188.563V51.0008H204.214V60.9727Z' fill='#1D1E20')
        path(d='M239.016 86.2246H189.044V56.2509H239.016V86.2246Z' :fill="folder")
        path(d='M239.497 86.7012H188.563V56.2505H189.525V85.7482H238.535V56.7275H203.367V55.7745H239.497V86.7012Z' fill='#1D1E20')
        path(d='M246.341 63.6138H196.369L189.044 86.2246H239.016L246.341 63.6138Z' :fill="folder")
        path(d='M189.704 85.7482H238.665L245.681 64.0904H196.72L189.704 85.7482ZM239.366 86.7012H188.384L196.018 63.1374H247L239.366 86.7012Z' fill='#1D1E20')
        path(d='M211 77.2773L212.722 103.063L218.732 98.052L228.462 115L232.307 112.285L222.944 95.5626L224.189 88.0584L211 77.2773Z' fill='#1D1E20')
        path(d='M213.203 72.834L214.926 98.6198L220.934 93.6086L230.664 110.557L234.51 107.842L225.146 91.12L231.513 87.8018L213.203 72.834Z' fill='#ffffff')
        path(d='M221.036 93.0378L230.783 110.016L234.019 107.732L224.632 90.9679L230.837 87.7337L213.632 73.6691L215.249 97.8639L221.036 93.0378ZM230.544 111.1L220.831 94.1819L214.601 99.3776L212.772 72.0006L232.187 87.8725L225.66 91.2746L235 107.954L230.544 111.1Z' fill='#1D1E20')
      div#parent(v-auto-animate="{duration: 200}")
        ExplorePreviewInfo#info(v-if="info")
      ExplorePreviewButtons


</template>

<script setup>
const defaultArea = ref('#ffffff')
const background = ref('#ffffff')
const ok_background = ref('#ffffff')
const stairs = ref('#ffffff')
const door_background = ref('#ffffff')
const door_light = ref('#ffffff')
const triangle = ref('#ffffff')
const folder = ref('#ffffff')
const cloud = ref('#ffffff')
const door_circle = ref('#ffffff')
const ok_text = ref('#ffffff')
const items = [background, ok_background, stairs, door_background, door_light, triangle, folder, cloud, door_circle, ok_text]


const colorStore = useColorStore()
const filterStore = useFilterStore()
const {preview} = storeToRefs(filterStore)
const { shufflePalette } = colorStore
const {palette, info, boxColors} = storeToRefs(colorStore)

const changeColors = (colors) => {
  if (!colors) return
  items.forEach((item, index) => {
    if (index === 0) {
      items[index].value = colors[0]
      return
    }
    items[index].value = colors[1]
  })
  if (colors.length === 10) {
    ok_text.value = colors[9]
    folder.value = colors[6]
    door_circle.value = colors[8]
    door_background.value = colors[3]
    door_light.value = colors[4]
    stairs.value = colors[2]
    cloud.value = colors[7]
    triangle.value = colors[5]
  } else if (colors.length === 9) {
    ok_text.value = colors[3]
    folder.value = colors[6]
    door_circle.value = colors[8]
    door_background.value = colors[3]
    door_light.value = colors[4]
    stairs.value = colors[2]
    cloud.value = colors[7]
    triangle.value = colors[5]
  } else if (colors.length === 8) {
    ok_text.value = colors[3]
    folder.value = colors[6]
    door_circle.value = colors[6]
    door_background.value = colors[3]
    door_light.value = colors[4]
    stairs.value = colors[2]
    cloud.value = colors[7]
    triangle.value = colors[5]
  } else if (colors.length === 7) {
    ok_text.value = colors[3]
    folder.value = colors[6]
    door_circle.value = colors[6]
    door_background.value = colors[3]
    door_light.value = colors[4]
    stairs.value = colors[2]
    cloud.value = colors[5]
    triangle.value = colors[5]
  } else if (colors.length === 6) {
    ok_text.value = colors[3]
    door_circle.value = '#ffffff'
    cloud.value = colors[5]
    folder.value = colors[4]
    triangle.value = colors[5]
    door_background.value = colors[3]
    door_light.value = colors[4]
    stairs.value = colors[2]
  } else if (colors.length === 5) {
    ok_text.value = colors[2]
    ok_background.value = colors[1]
    door_circle.value = defaultArea.value
    door_background.value = colors[2]
    door_light.value = colors[3]
    cloud.value = colors[4]
    folder.value = colors[3]
    triangle.value = colors[4]
  }
  else if (colors.length === 4) {
    ok_text.value = colors[2]
    ok_background.value = colors[1]
    door_circle.value = defaultArea.value
    cloud.value = colors[3]
    folder.value = colors[2]
    triangle.value = colors[3]
    door_light.value = colors[3]
    door_background.value = colors[2]
  }
  else if (colors.length === 3) {
    background.value = colors[0]
    ok_text.value = colors[2]
    cloud.value = colors[2]
    folder.value = colors[2]
    door_circle.value = defaultArea.value
    door_light.value = colors[2]
  }
  else if (colors.length === 2) {
    background.value = colors[0]
    ok_text.value = defaultArea.value
    stairs.value = defaultArea.value
  } else {
    items.forEach((item, index) => {
      items[index].value = defaultArea.value
    })
  }
}

watch(palette, (palette, oldPalette) => {
    if (palette.colors !== oldPalette?.colors) {
      boxColors.value = palette.colors
    }
  },
  { deep: true }
)
watch(boxColors, (boxColors) => {
    changeColors(boxColors)
  },
)

onMounted(() => {
  if (!palette.value.colors) return
  changeColors(palette.value.colors)
})


</script>

<style scoped lang="sass">
#parent
  position: static!important
#previewBox
  position: absolute
  bottom: 10px
  right: 30px
  display: flex
  flex-direction: column
</style>